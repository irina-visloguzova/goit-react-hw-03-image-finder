{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","api/ApiService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/App.js","index.js"],"names":["module","exports","fetchImgs","searchQuery","page","axios","get","then","response","data","hits","Searchbar","state","search","hendleInputChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onChangeQuery","reset","this","className","style","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","id","shortid","generate","placeholder","onChange","Component","ImageGalleryItem","url","alt","onClick","src","ImageGalleryItemImage","ImageGallery","map","webformatURL","largeImageURL","tags","Button","Container","modalRoot","document","getElementById","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","LoaderApp","color","height","width","timeout","App","error","showModal","largeImg","largeImgTags","isLoading","fetchLength","options","api","prevState","length","catch","finally","query","onHitClick","hit","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","Loader","alert","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f3289e05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Hlff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__25knh\",\"Container\":\"Button_Container__ofIBQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__AQ1NZ\",\"Modal\":\"Modal_Modal__2jbt2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2LHpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__-tHY4\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__24EXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__1FA4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2RT3U\",\"SearchForm\":\"Searchbar_SearchForm__CNeAR\",\"SearchFormButton\":\"Searchbar_SearchFormButton__11yLa\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2B5t6\",\"SearchFormInput\":\"Searchbar_SearchFormInput__lWQrB\"};","import axios from \"axios\"\r\nconst KEY_API = \"21381163-3778efd7fa0406bf0c983211f\"\r\n\r\nconst fetchImgs = ({ searchQuery = \"\", page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits)\r\n}\r\n\r\nexport default fetchImgs\r\n","import React, { Component } from \"react\"\r\nimport shortid from \"shortid\"\r\nimport style from \"../Searchbar/Searchbar.module.css\"\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: \"\",\r\n  }\r\n\r\n  hendleInputChange = (event) => {\r\n    this.setState({ search: event.currentTarget.value })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    this.props.onChangeQuery(this.state.search)\r\n    this.reset()\r\n  }\r\n\r\n  reset = () => {\r\n    this.setState({ search: \"\" })\r\n  }\r\n\r\n  render() {\r\n    const { search } = this.state\r\n    const hendleInputChange = this.hendleInputChange\r\n\r\n    return (\r\n      <>\r\n        <header className={style.Searchbar}>\r\n          <form className={style.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={style.SearchFormButton}>\r\n              <span className={style.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={style.SearchFormInput}\r\n              type=\"text\"\r\n              name=\"searchQuery\"\r\n              id={shortid.generate()}\r\n              value={search}\r\n              placeholder=\"Search images and photos\"\r\n              onChange={hendleInputChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Searchbar\r\n","import PropTypes from 'prop-types';\r\nimport style from \"../ImageGalleryItem/ImageGalleryItem.module.css\"\r\n\r\nconst ImageGalleryItem = ({ url, alt, onClick }) => (\r\n\t<>\r\n\t\t<img\r\n\t\t\tsrc={url}\r\n\t\t\talt={alt}\r\n\t\t\tonClick={onClick} className={style.ImageGalleryItemImage}\r\n\t\t/>\r\n\t</>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n\turl: PropTypes.string.isRequired,\r\n\talt: PropTypes.string.isRequired,\r\n\tonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport style from \"../ImageGallery/ImageGallery.module.css\"\r\n\r\nconst ImageGallery = ({hits, onClick}) => {\r\n    return (\r\n        <ul className={style.ImageGallery}>\r\n        {hits.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <li key={id} className={style.ImageGalleryItem}>\r\n                <ImageGalleryItem\r\n\t\t\t\t\turl={webformatURL}\r\n\t\t\t\t\talt={tags}\r\n\t\t\t\t\tonClick={()=>onClick(largeImageURL, tags)}\r\n\t\t\t\t/>\r\n            </li>))}\r\n        </ul>\r\n    )\r\n};\r\n\r\nImageGallery.propTypes = {\r\n\tpics: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tid: PropTypes.number.isRequired,\r\n\t})),\r\n\tonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery;","import style from \"../Button/Button.module.css\" \r\n\r\nconst Button = ({ onClick }) => {\r\n    \r\n  return (\r\n  <div className={style.Container}>\r\n      <button type = 'button' onClick = {onClick} className={style.Button} >Load more</button>  \r\n  </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default Button;","import React, { Component } from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport PropTypes from \"prop-types\"\r\nimport style from \"../Modal/Modal.module.css\"\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\")\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown)\r\n  }\r\n\r\n  handleKeydown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { url, alt } = this.props\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={style.Modal}>\r\n          <img src={url} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    )\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Modal\r\n","import React, { Component } from \"react\"\r\nimport Loader from \"react-loader-spinner\"\r\nimport style from \"../Loader/Loader.module.css\"\r\n\r\nclass LoaderApp extends Component {\r\n  render() {\r\n    return <Loader className={style.Container} type=\"Puff\" color=\"#3f51b5\" height={100} width={100} timeout={3000} />\r\n  }\r\n}\r\n\r\nexport default LoaderApp\r\n","import React, { Component } from \"react\"\nimport style from \"../components/App.module.css\"\nimport api from \"../api/ApiService\"\nimport Searchbar from \"./Searchbar/Searchbar\"\nimport ImageGallery from \"./ImageGallery/ImageGallery\"\nimport Button from \"./Button/Button\"\nimport Modal from \"./Modal/Modal\"\nimport Loader from \"./Loader/Loader\"\n\nclass App extends Component {\n  state = {\n    hits: [],\n    page: null,\n    searchQuery: \"\",\n    error: null,\n    showModal: false,\n    largeImg: \"\",\n    largeImgTags: \"\",\n    isLoading: false,\n    fetchLength: \"\",\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImgs()\n    }\n\n    if (this.state.page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      })\n    }\n  }\n\n  fetchImgs = () => {\n    const { searchQuery, page } = this.state\n\n    const options = { searchQuery, page }\n    this.setState({ isLoading: true })\n    api(options).then((hits) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          page: prevState.page + 1,\n          fetchLength: hits.length,\n        }))\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false })\n      })\n  }\n\n  onChangeQuery = (query) => {\n    if (query !== this.state.searchQuery) {\n      this.setState({ hits: [], page: 1 })\n    }\n    this.setState({\n      searchQuery: query,\n    })\n  }\n\n  onHitClick = (hit, tags) => {\n    this.setState({ showModal: true, largeImg: hit, largeImgTags: tags })\n  }\n\n  toggleModal = () => {\n    this.setState((prevState) => ({ showModal: !prevState.showModal }))\n  }\n\n  render() {\n    const { hits, largeImg, largeImgTags, showModal, isLoading, page, error, fetchLength } = this.state\n\n    const onChangeQuery = this.onChangeQuery\n    const onHitClick = this.onHitClick\n    const fetchImgs = this.fetchImgs\n    const toggleModal = this.toggleModal\n\n    return (\n      <div className={style.App}>\n        <Searchbar onChangeQuery={onChangeQuery} />\n\n        <ImageGallery hits={hits} onClick={onHitClick} />\n\n        {hits.length !== 0 && fetchLength === 12 && !isLoading && <Button onClick={fetchImgs} page={page} />}\n\n        {isLoading && <Loader />}\n\n        {error && alert(\"Please try again\")}\n\n        {showModal && <Modal url={largeImg} alt={largeImgTags} onClose={toggleModal} />}\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}